<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>start-hexo</title>
      <link href="/2018/03/23/start-hexo/"/>
      <content type="html"><![CDATA[<h2 id="hexo-との出会い"><a href="#hexo-との出会い" class="headerlink" title="hexo との出会い"></a>hexo との出会い</h2><h3 id="フラストレーション"><a href="#フラストレーション" class="headerlink" title="フラストレーション"></a>フラストレーション</h3><p>昨年あたりから <a href="https://qiita.com/shimon_haga" target="_blank" rel="noopener">Qiita</a> を書いていたのだが、技術的な話だけしか書けないので、なんとなくフラストレーションが溜まっていた。<br>とりわけ文章を書きたい欲求があるわけではなく、文章も上手なわけでもない。<br>だが「書けない」というのは、不思議なことに「書きたい」という感情を突き動かす。</p><h3 id="模索"><a href="#模索" class="headerlink" title="模索"></a>模索</h3><p>さて、書きたいが、場所はどうしよう。</p><p>何かプラットフォームを使うか？<br>でも会員登録や ID/PW の管理が面倒くさい。</p><p>自分で作るか？<br>そういえば過去に <a href="https://shimon.xyz" target="_blank" rel="noopener">WordPress でブログ</a>を立ち上げたが、全く手をつけてないな。<br>テーマ弄る時間がなくてやめたんだっけ。<br>そもそも WordPress のソースの書き方がちょっと自分と合わないんだよな。</p><h3 id="セキュリティ"><a href="#セキュリティ" class="headerlink" title="セキュリティ"></a>セキュリティ</h3><p>動的なサイトってのはいつでも外部からの攻撃にさらされる危険がある。<br>VPS なんかでやろうものなら、 OS やらミドルウェアやらのセキュリティアップデートなども気にしなければならない。<br>面倒くさい。<br>かといって AWS のマネージドのやつは、もし万が一、仮に、億が一でもアクセスが増えてしまったら請求額に泣いてしまう。</p><h3 id="静的なブログという道"><a href="#静的なブログという道" class="headerlink" title="静的なブログという道"></a>静的なブログという道</h3><p>WordPress にもそういうプラグインがあったが、ブログ自体を静的にしてしまえば色々な攻撃から身を守れる。<br>置く場所だって自分の責任がないところにすればいい。<br>何かないものか。</p><h3 id="hexo"><a href="#hexo" class="headerlink" title="hexo"></a>hexo</h3><p>他にも候補は色々あったが、 <em>hexo</em> は以下の点が良かった。</p><ul><li>コマンドラインで操作すること</li><li>マークダウンで記述できること</li><li>github のホスティングに対応していること</li><li>テーマが色々ある</li><li>カスタマイズできる</li><li>js/css でゴリゴリいじれる</li><li>node</li></ul><h2 id="構築してみる"><a href="#構築してみる" class="headerlink" title="構築してみる"></a>構築してみる</h2><h3 id="ドキュメント読む"><a href="#ドキュメント読む" class="headerlink" title="ドキュメント読む"></a>ドキュメント読む</h3><p>そのまんまだった。<br>とくにない。</p><h3 id="テーマを変更する"><a href="#テーマを変更する" class="headerlink" title="テーマを変更する"></a>テーマを変更する</h3><p>現在(2018年3月時点)採用しているのは <code>apollo</code> のもの。</p><h3 id="プラグインを入れる"><a href="#プラグインを入れる" class="headerlink" title="プラグインを入れる"></a>プラグインを入れる</h3><p>自分は以下のプラグインを採用した。</p><ul><li>hexo-generator-amp</li><li>hexo-generator-archive</li><li>hexo-generator-category</li><li>hexo-generator-feed</li><li>hexo-generator-index</li><li>hexo-generator-search</li><li>hexo-generator-seo-friendly-sitemap</li><li>hexo-generator-tag</li><li>hexo-renderer-ejs</li><li>hexo-renderer-marked</li><li>hexo-renderer-stylus</li><li>hexo-server</li><li>hexo-tag-googlemaps</li><li>hexo-tag-instagram</li><li>hexo-tag-twitter</li></ul>]]></content>
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hello World</title>
      <link href="/2018/03/19/hello-world/"/>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
    </entry>
    
  
  
    
    <entry>
      <title>Page not found</title>
      <link href="/404.html"/>
      <content type="html"><![CDATA[<p>Sorry.<br>Page not found.</p>]]></content>
    </entry>
    
    <entry>
      <title></title>
      <link href="/js/search.js"/>
      <content type="html"><![CDATA[var searchFunc = function(path, search_id, content_id) {    'use strict';    $.ajax({        url: path,        dataType: "xml",        success: function( xmlResponse ) {            // get the contents from search data            var datas = $( "entry", xmlResponse ).map(function() {                return {                    title: $( "title", this ).text(),                    content: $("content",this).text(),                    url: $( "url" , this).text()                };            }).get();            var $input = document.getElementById(search_id);            var $resultContent = document.getElementById(content_id);            $input.addEventListener('input', function(){                var str='<ul class="\"search-result-list\"">';                                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);                $resultContent.innerHTML = "";                if (this.value.trim().length <= 0)="" {="" return;="" }="" perform="" local="" searching="" datas.foreach(function(data)="" var="" ismatch="true;" content_index="[];" data_title="data.title.trim().toLowerCase();" data_content="data.content.trim().replace(/<[^">]+>/g,"").toLowerCase();                    var data_url = data.url;                    var index_title = -1;                    var index_content = -1;                    var first_occur = -1;                    // only match artiles with not empty titles and contents                    if(data_title != '' && data_content != '') {                        keywords.forEach(function(keyword, i) {                            index_title = data_title.indexOf(keyword);                            index_content = data_content.indexOf(keyword);                            if( index_title < 0 && index_content < 0 ){                                isMatch = false;                            } else {                                if (index_content < 0) {                                    index_content = 0;                                }                                if (i == 0) {                                    first_occur = index_content;                                }                            }                        });                    }                    // show search results                    if (isMatch) {                        str += "<li><a href=""+ data_url +"" class="search-result-title">"+ data_title +"</a>";                        var content = data.content.trim().replace(/<[^>]+>/g,"");                        if (first_occur >= 0) {                            // cut out 100 characters                            var start = first_occur - 20;                            var end = first_occur + 80;                            if(start < 0){                                start = 0;                            }                            if(start == 0){                                end = 100;                            }                            if(end > content.length){                                end = content.length;                            }                            var match_content = content.substr(start, end);                             // highlight all keywords                            keywords.forEach(function(keyword){                                var regS = new RegExp(keyword, "gi");                                match_content = match_content.replace(regS, "<em class="\"search-keyword\"">"+keyword+"</em>");                            });                            str += "<p class="\"search-result\"">" + match_content +"...</p>"                        }                        str += "</[^></li>";                    }                });                str += "</=></ul>";                $resultContent.innerHTML = str;            });        }    });}]]></content>
    </entry>
    
  
</search>
